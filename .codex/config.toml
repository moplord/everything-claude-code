################################################################################
# Codex Team Config (repo-local)
#
# This file is checked into git and provides shared defaults when working in this
# repository. You can still override settings via CLI flags or your personal
# `~/.codex/config.toml`.
#
# Note: project-scoped `.codex/config.toml` is applied only after the project is
# marked trusted by the user (Codex will prompt / or you can set trust in your
# personal config). See Team Config + Security docs.
################################################################################

################################################################################
# Approval & Sandbox
################################################################################

# When to ask for command approval:
# - untrusted: only known-safe read-only commands auto-run; others prompt
# - on-failure: auto-run in sandbox; prompt only on failure for escalation
# - on-request: model decides when to ask (common default)
# - never: never prompt (risky)
approval_policy = "on-request"

# Filesystem/network sandbox policy for tool calls:
# - read-only
# - workspace-write
# - danger-full-access (no sandbox; extremely risky)
sandbox_mode = "workspace-write"

# Extra settings used only when sandbox_mode = "workspace-write".
[sandbox_workspace_write]
writable_roots = []
network_access = false
exclude_tmpdir_env_var = false
exclude_slash_tmp = false

################################################################################
# Feature Flags
################################################################################

[features]
# Allow the model to request web searches (disabled by default for safety).
web_search_request = false

################################################################################
# Profiles (named presets)
#
# Profiles are selected via: `codex --profile <name>`
# Note: profiles are not currently supported in the Codex IDE extension.
################################################################################

[profiles.readonly]
approval_policy = "untrusted"
sandbox_mode = "read-only"

[profiles.full-auto]
approval_policy = "on-request"
sandbox_mode = "workspace-write"

################################################################################
# MCP servers (repo-local)
#
# Note: project-scoped MCP config is applied only for trusted projects.
# Prefer env-based secrets (env_http_headers / bearer_token_env_var) so you never
# commit API keys to git.
################################################################################

[mcp_servers.chrome-devtools]
command = "cmd"
args = [
    "/c",
    "npx",
    "-y",
    "chrome-devtools-mcp@latest",
]
env = { SystemRoot = "C:\\Windows", PROGRAMFILES = "C:\\Program Files" }
startup_timeout_sec = 60

[mcp_servers.context7]
url = "https://mcp.context7.com/mcp"
# Set this in your environment (do not commit keys in git):
# - Windows PowerShell: $env:CONTEXT7_API_KEY="..."
env_http_headers = { "CONTEXT7_API_KEY" = "CONTEXT7_API_KEY" }

[mcp_servers.semgrep]
url = "https://mcp.semgrep.ai/mcp"

[mcp_servers.ppt]
command = "C:\\Users\\admin\\AppData\\Local\\Programs\\Python\\Python311\\python.exe"
args = [
    "C:\\Users\\admin\\AppData\\Local\\mcp\\Office-PowerPoint-MCP-Server\\ppt_mcp_server.py",
]
