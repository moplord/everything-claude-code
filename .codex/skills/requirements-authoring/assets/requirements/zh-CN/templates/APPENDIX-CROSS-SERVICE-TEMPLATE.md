# REQ-XXX 附录（跨服务契约）- <短标题>

Status: DRAFT | APPROVED | IMPLEMENTING | DONE | DEPRECATED
Version: v0.1.0
Owner: <name/team>
Last Updated: YYYY-MM-DD

# Metadata (Required)
Type: cross-service-contract
Level: <L0|L1|L2|L3|...>
Parent: <REQ-XXX-...|>
Scopes: <optional>
References: <上游/下游 REQ + 版本>
Service: cross-service

本附录与正文同等权威，用于定义“服务对服务”的需求级契约。
不要在此粘贴实现制品（OpenAPI/proto/CI YAML 等），只写可验证的合同与约束。

## A. 参与方

| 角色 | 服务 | 职责 | 备注 |
|---|---|---|---|

## B. 契约总览（API/事件）

| 契约ID | 类型（REST/RPC/事件） | 生产方 | 消费方 | 目的 | 版本策略 | 备注 |
|---|---|---|---|---|---|---|

## C. 请求/响应或事件载荷（概念字段）

| 契约ID | 方向（请求/响应/事件） | 字段 | 含义 | 必填 | 校验/范围 | 是否敏感/PII | 备注 |
|---|---|---|---|---:|---|---:|---|

## D. 行为、错误与幂等

| 契约ID | 成功语义 | 错误码/文案 | 重试策略 | 幂等键 | 并发规则 | 备注 |
|---|---|---|---|---|---|---|

## E. 安全与权限

| 契约ID | 认证（mTLS/JWT等） | 授权（谁可调用） | 审计日志 | 数据最小化 | 备注 |
|---|---|---|---|---|---|

## F. SLO/SLA 与可观测性（需求级）

| 契约ID | 延迟SLO | 可用性SLO | 限流 | 指标 | 链路追踪 | 告警 | 备注 |
|---|---|---|---|---|---|---|---|

## G. 向后兼容规则

| 规则 | 适用范围 | 需求 | 阻断 | 备注 |
|---|---|---|---:|---|

## H. 验收 -> 测试 -> 证据（可追溯）

| AC | 测试类型（unit/integration/smoke/e2e） | 证据要求 | 备注 |
|---|---|---|---|

## I. 质量门禁（需求级，不写 YAML）

| 门禁 | 需求 | 阻断 | 备注 |
|---|---|---:|---|

